{% extends 'base.html' %}

{% block title %}Results{% endblock %}

{% block content %}
<article class="prose prose-lg max-w-none">
    <!-- <h2 align="center">Results So Far</h2> -->
    <h2 align="center">Results So Far</h2>
    <div class="p-4">
        {% if name_and_winning_game_list %}
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <!-- Table 1 -->
                <div class="overflow-x-auto mb-6">
                    <table class="table table-lg">
                        <thead>
                            <tr>
                                <th>Week</th>
                                <th>Team</th>
                                <th>Owner</th>
                                <th>Type</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- row per winning game -->
                            {% for name_winning_game_tuple in name_and_winning_game_list %}
                                <tr>
                                    {% set owner_str = name_winning_game_tuple[0] %}
                                    {% set winning_game = name_winning_game_tuple[1] %}
                                    <td>{{ winning_game.week }}</td>
                                    <td>{{ winning_game.team.name_str }}</td>
                                    <td>{{ owner_str }}</td>
                                    <td>{{ winning_game.winning_type.name_str }}</td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>

                <!-- Divider for small screens -->
                <div class="divider lg:hidden"></div>

                <!-- Table 2 -->
                <div class="overflow-x-auto">
                    <table class="table table-lg">
                        <thead>
                            <tr>
                                <th>Owner</th>
                                <th>Winnings</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- row per winning game -->
                            {% for owner in winning_owners %}
                                <tr>
                                    <td>{{ owner.name_str }}</td>
                                    <td>${{ owner.winnings }}</td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        {% else %}
            <div class="alert alert-warning shadow-lg">
                <span>No winners yet, check back soon!</span>
            </div>
        {% endif %}
    </div>
</article>
{% endblock %}
